<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <title>$.each() 예제</title>
  <script>
    let json = [
      {
        brandName: "kia",
        carName: "sorento",
        color:"blue",
        carImg: "",
        description: "기아에서 2002년부터 생산하는 전륜구동/4륜구동 중형 SUV.[3] 경기도 화성시 우정읍과 미국 조지아 주에 위치한 공장에서 생산된다.1세대부터 지금까지 기아의 SUV 라인업을 지탱하고 있는 모델 가운데 하나이다.",
        link: ""
      },
      {
        brandName: "hyundai",
        carName: "venue",
        color: "darkpurple", 
        carImg: "./img/venue.png", 
        description : "현대자동차가 대한민국 기준 2019년 7월 11일 출시한 전륜구동(FF) 소형 SUV. 그리고 국내에 엑센트, 프라이드, 스토닉이 싹 다 단종되면서 현대자동차그룹이 현재 국내에 판매 중인 유일한 소형차종이다. 스토닉의 형제 모델로 엑센트 5세대의 플랫폼을 사용하며 코나보다 차급이 낮은 소형 SUV이고, 전장이 12.5cm가량 짧다.", 
        link : "https://www.hyundai.com/kr/ko/e/vehicles/venue/intro"
      },
      {
        brandName: "hyundai",
        carName : 'kona', 
        color : 'purple', 
        carImg: './img/kona.png', 
        description : '현대자동차에서 2017년부터 생산 중인 전륜구동 소형 SUV.', 
        link : 'https://www.hyundai.com/kr/ko/e/vehicles/the-all-new-kona/intro'
      }
    ]
    console.log(json)

    // 테이블 형식으로 화면에 출력
    let table = `<table border='1' width=100%><tr><th>브랜드</th><th>컬러</th><th>이미지</th><th>설명</th><th>링크</th><tr>`;
    let card = ``;

    $.each(json, function(index, items){
      table+=`<tr>`;
        let linkInfo = '';
        card += `<div class="card" style="width:400px"> 
                  <img class="card-img-top" src="${(items.carImg) ? items.carImg : './img/noImage.png'}" alt="${items.carName}" style="width:100%; height:300px">
                  <div class="card-body">
                    <h4 class="card-title">${items.carName}</h4>
                    <p class="card-text">${items.description}</p>
                    <a href="#" class="btn btn-primary">${items.carName} 사이트로 이동</a>
                  </div>
                </div>`;
      $.each(items, function(prop, item){
        switch(prop){
          case 'carImg':
          table+= (!item) ? `<td><img src="./img/noImage.png" width="200" alt=""></td>` : `<td><img src="${item}" width="300px" alt=""></td>`;
          break;
          case 'link':
          table += (!item) ? `<td><p>사이트 정보 없음.</p></td>` : `<td><a href="${item}"><p>${linkInfo} <br>사이트 이동</p></a></td>`;
          break;
          case 'carName':
          linkInfo = item;
          break;
          default:
          table+=`<td>${item}</td>`;
        }
      })
      table+=`</tr>`;
    })
    document.write(table)

    $(document).ready(function() {
      document.getElementById('cardTarget').innerHTML = card;

    })
  </script>
  <style>
    table, tr, td{
      border-collapse: collapse;
      text-align: center;
    }
    p{
      color: gray;
      font-size: 10px;
    }
    a{
      text-decoration: none;
    }
    table tr th{
      border: 1px solid black;
      background-color:gray; 
      color: white; 
      font-weight: 100;
    }
  </style>
</head>
<body>
  <img src="" alt="">
  <div id="cardTarget" style="display: flex;"></div>
  
  
</body>
</html>