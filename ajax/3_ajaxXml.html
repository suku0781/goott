<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>비동기 통신으로 XML데이터 얻어오기</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    function parsingXml(data) {
      let accounts = data.getElementsByTagName('account')
      let table = `<table><tr><td>예금주</td><td>계좌번호</td><td>잔액</td><td>통장명</td><td>은행명</td></tr>`;
      $.each(accounts, function(idx, account) {
        table +=`<tr><td>${account.children().eq(0).html()}</td><td>${account.children().eq(1).html()}</td><td>${account.children().eq(2).html()}</td><td>${account.children().eq(3).html()}</td><td>${account.children().eq(4).html()}</td></tr>`;
      })  
      table+=`</tr></table>`;
      $('#output').html(table);
    }
    function txtLoad() {
      $.ajax({
        url: "http://nullishh.cafe24.com/shk/accounts.xml", 
        type: 'GET',
        dataType : 'xml',
        success : function (data){
          console.log('success',data);
          parsingXml(data)
        },
        fail : function (data){
          console.log('fail',data);
        },
        complete: function(data) {
          console.log("complete!" , data)
        }
      })
    }

  </script>
</head>
<body>
  <input type="button" value="Ajax!" onclick="txtLoad();">
  <div id="output"></div>
  
</body>
</html>